{"remainingRequest":"C:\\xampp\\htdocs\\LL\\web1904\\项目大赛\\food\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\LL\\web1904\\项目大赛\\food\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\LL\\web1904\\项目大赛\\food\\vue_app_00\\src\\views\\Address.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\xampp\\htdocs\\LL\\web1904\\项目大赛\\food\\vue_app_00\\src\\views\\Address.vue","mtime":1566897317129},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\项目大赛\\food\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\项目大赛\\food\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\项目大赛\\food\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Myheader from \"../components/Myheader.vue\";\nexport default {\n  data: function data() {\n    return {\n      uid: \"\",\n      mrPhone: \"\",\n      mrName: \"\",\n      mrAddress: \"\",\n      isDefault: \"\",\n      qian_dp1: \"\",\n      qian_dp2: \"\",\n      mrdz_dp: \"\",\n      qtdz_dp: \"\",\n      list: [],\n      list_pro: [],\n      selectd_pro: \"\",\n      list_city: [],\n      selectd_city: \"\",\n      list_dis: [],\n      selectd_dis: \"\",\n      d01_dp: \"\",\n      d02_dp: \"\",\n      lxrName: \"\",\n      lxrPhone: \"\",\n      xxdz: \"\",\n      arr_pro: [],\n      arr_city: [],\n      arr_dis: [],\n      textPro: \"\",\n      textCity: \"\",\n      textDis: \"\"\n    };\n  },\n  methods: {\n    setMrFun: function setMrFun(auser, aphone, address) {\n      var _this = this;\n\n      var obj = {\n        uid: this.uid,\n        auser: auser,\n        aphone: aphone,\n        address: address\n      };\n      this.axios.get(\"updateMr\", {\n        params: obj\n      }).then(function (res) {\n        if (res.data.code == 1) {\n          _this.onLoad();\n        } else if (res.data.code == 2) {\n          _this.onLoad();\n        } else if (res.data.code == 0) {\n          _this.onLoad();\n        } else {\n          _this.$toast(\"设置失败\");\n        }\n      });\n    },\n    del2Fun: function del2Fun(auser, aphone, address) {\n      var _this2 = this;\n\n      this.$messagebox.confirm(\"确认删除该地址？\").then(function (action) {\n        var obj = {\n          uid: _this2.uid,\n          auser: auser,\n          aphone: aphone,\n          address: address\n        };\n\n        _this2.axios.get(\"del2\", {\n          params: obj\n        }).then(function (res) {\n          if (res.data.code == 1) {\n            _this2.$toast(\"删除成功\");\n\n            _this2.onLoad();\n          } else if (res.data.code == 0) {\n            _this2.qian_dp2 = \"xs\";\n\n            _this2.$toast(\"删除成功\");\n\n            _this2.onLoad();\n          } else {\n            _this2.$toast(\"删除失败\");\n          }\n        });\n      }).catch(function (err) {\n        _this2.$toast(\"取消成功\");\n      });\n    },\n    del1Fun: function del1Fun() {\n      var _this3 = this;\n\n      this.$messagebox.confirm(\"确认删除该地址？\").then(function (action) {\n        var obj = {\n          uid: _this3.uid\n        };\n\n        _this3.axios.get(\"del1\", {\n          params: obj\n        }).then(function (res) {\n          if (res.data.code == 1) {\n            _this3.$toast(\"删除成功\");\n\n            _this3.onLoad();\n          } else {\n            _this3.$toast(\"删除失败\");\n          }\n        });\n      }).catch(function (err) {\n        _this3.$toast(\"取消成功\");\n      });\n    },\n    bcFun: function bcFun() {\n      var _this4 = this;\n\n      var str = this.textPro + \",\" + this.textCity + \",\" + \",\" + this.textDis + this.xxdz;\n      var aphone_reg = /^1[3456789]\\d{9}$/;\n\n      if (this.lxrName == null) {\n        this.$toast(\"请输入联系人姓名\");\n      } else if (aphone_reg.test(this.lxrPhone) == false) {\n        this.$toast(\"请输入合法的手机号！\");\n      } else if (this.selectd_pro == 1) {\n        this.$toast(\"请选择你所在的省域！\");\n      } else if (this.selectd_city == 1) {\n        this.$toast(\"请选择你所在的城市！\");\n      } else if (this.selectd_dis == 1) {\n        this.$toast(\"请选择你所在的区域！\");\n      } else if (this.xxdz == null) {\n        this.$toast(\"请输入详细地址！\");\n      } else {\n        var url = \"addAddress\";\n        var obj = {\n          auser: this.lxrName,\n          aphone: this.lxrPhone,\n          address: str,\n          uid: this.uid,\n          isDefault: 0\n        };\n        this.axios.post(url, this.qs.stringify(obj)).then(function (res) {\n          if (res.data.code == 1) {\n            _this4.d01_dp = \"xs\";\n            _this4.d02_dp = \"yc\";\n            _this4.qian_dp2 = \"yc\";\n            _this4.qtdz_dp = \"xs\";\n            _this4.selectd_pro = 1;\n            _this4.selectd_city = 1;\n            _this4.selectd_dis = 1;\n\n            _this4.$toast(\"添加成功\");\n\n            _this4.onLoad();\n          } else {\n            _this4.$toast(\"添加失败\");\n          }\n        });\n      }\n    },\n    look_pro: function look_pro() {\n      var _this5 = this;\n\n      if (this.selectd_pro !== 1) {\n        var url = \"textPro\";\n        var obj = {\n          sid: this.selectd_pro\n        };\n        this.axios.get(url, {\n          params: obj\n        }).then(function (res) {\n          _this5.textPro = res.data[0].provinceName;\n        });\n      }\n    },\n    look_city: function look_city() {\n      var _this6 = this;\n\n      if (this.selectd_city !== 1) {\n        var url = \"textCity\";\n        var obj = {\n          cid: this.selectd_city\n        };\n        this.axios.get(url, {\n          params: obj\n        }).then(function (res) {\n          _this6.textCity = res.data[0].cityName;\n        });\n      }\n    },\n    look_dis: function look_dis() {\n      var _this7 = this;\n\n      if (this.selectd_dis !== 1) {\n        var url = \"textDis\";\n        var obj = {\n          did: this.selectd_dis\n        };\n        this.axios.get(url, {\n          params: obj\n        }).then(function (res) {\n          _this7.textDis = res.data[0].districtName;\n        });\n      }\n    },\n    addFun: function addFun() {\n      this.d01_dp = \"yc\";\n      this.d02_dp = \"xs\";\n      this.lxrPhone = null;\n      this.lxrName = null;\n      this.xxdz = null;\n    },\n    fhFun: function fhFun() {\n      this.d01_dp = \"xs\";\n      this.d02_dp = \"yc\";\n    },\n    onLoad: function onLoad() {\n      var _this8 = this;\n\n      //我的地址页面添加载\n      var url = \"address\";\n      var obj = {\n        uid: this.uid\n      };\n      this.axios.get(url, {\n        params: obj\n      }).then(function (res) {\n        if (res.data.code == 2) {\n          var mrdz = res.data.output.mrdz[0];\n          _this8.mrName = mrdz.auser;\n          _this8.mrPhone = mrdz.aphone;\n          _this8.mrAddress = mrdz.address;\n          _this8.qian_dp1 = \"yc\";\n          _this8.mrdz_dp = \"xs\";\n          var qtdz = res.data.output.qtdz;\n          _this8.list = qtdz;\n        } else if (res.data.code == 1) {\n          var mrdz = res.data.output.mrdz[0];\n          _this8.mrName = mrdz.auser;\n          _this8.mrPhone = mrdz.aphone;\n          _this8.mrAddress = mrdz.address;\n          _this8.qian_dp1 = \"yc\";\n          _this8.mrdz_dp = \"xs\";\n          _this8.qian_dp2 = \"xs\";\n          _this8.qtdz_dp = \"yc\";\n        } else if (res.data.code == 0) {\n          _this8.qian_dp1 = \"xs\";\n          _this8.mrdz_dp = \"yc\";\n          var qtdz = res.data.output.qtdz;\n          _this8.list = qtdz;\n        } else {\n          _this8.qian_dp1 = \"xs\";\n          _this8.mrdz_dp = \"yc\";\n          _this8.qian_dp2 = \"xs\";\n          _this8.qtdz_dp = \"yc\";\n        }\n      });\n    }\n  },\n  watch: {\n    selectd_pro: function selectd_pro() {\n      var _this9 = this;\n\n      var obj = {\n        sid: this.selectd_pro\n      };\n      var url = \"proChange\";\n      this.axios.get(url, {\n        params: obj\n      }).then(function (res) {\n        _this9.list_city = res.data;\n        _this9.selectd_city = 1;\n      });\n    },\n    selectd_city: function selectd_city() {\n      var _this10 = this;\n\n      var obj = {\n        cid: this.selectd_city\n      };\n      var url = \"cityChange\";\n      this.axios.get(url, {\n        params: obj\n      }).then(function (res) {\n        _this10.list_dis = res.data;\n        _this10.selectd_dis = 1;\n      });\n    }\n  },\n  created: function created() {\n    var _this11 = this;\n\n    if (sessionStorage.getItem(\"uid\") == \"null\") {\n      this.$router.push(\"/Login\");\n    } else {\n      this.uid = sessionStorage.getItem(\"uid\");\n    }\n\n    this.onLoad(); //行政区域下拉选项框加载\n\n    this.axios.get(\"xzqy\").then(function (res) {\n      var arr_pro = res.data.pro;\n      var arr_city = res.data.city;\n      var arr_dis = res.data.dis;\n      _this11.list_pro = arr_pro;\n      _this11.list_city = arr_city;\n      _this11.list_dis = arr_dis;\n      _this11.selectd_pro = 1;\n    });\n  },\n  components: {\n    \"myheader\": Myheader\n  }\n};",{"version":3,"sources":["Address.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div id=\"address\">\r\n    <myheader></myheader>\r\n    <div class=\"d01\" :class=\"d01_dp\">\r\n      <div class=\"d0\">\r\n        <div class=\"d1m\">\r\n          <div class=\"shen\">默认地址</div>\r\n          <ul>\r\n            <li class=\"qian\" :class=\"qian_dp1\">暂无默认地址</li>\r\n            <li :class=\"mrdz_dp\">\r\n              <dl>\r\n                <dt>收件人：</dt>\r\n                <dd>{{mrName}}</dd>\r\n                <dt>联系电话：</dt>\r\n                <dd>{{mrPhone}}</dd>\r\n                <dt>联系地址：</dt>\r\n                <dd>{{mrAddress}}</dd>\r\n              </dl>\r\n            </li>\r\n            <div class=\"mrdz_xz\" :class=\"mrdz_dp\">\r\n              <span class=\"red\" @click=\"del1Fun\">删除</span>\r\n            </div>\r\n          </ul>\r\n        </div>\r\n        <div class=\"d1q\">\r\n          <div class=\"shen\">其他地址</div>\r\n          <ul>\r\n            <li class=\"qian\" :class=\"qian_dp2\">暂无其他地址</li>\r\n            <div class=\"qtdz\" v-for=\"(item,i) of list\" :key=\"i\">\r\n              <li :class=\"qtdz_dp\">\r\n                <dl>\r\n                  <dt>收件人：</dt>\r\n                  <dd>{{item.auser}}</dd>\r\n                  <dt>联系电话：</dt>\r\n                  <dd>{{item.aphone}}</dd>\r\n                  <dt>联系地址：</dt>\r\n                  <dd>{{item.address}}</dd>\r\n                </dl>\r\n              </li>\r\n              <div class=\"qtdz_xz\" :class=\"qtdz_dp\">\r\n                <span class=\"blue\" @click=\"setMrFun(item.auser,item.aphone,item.address)\">设为默认</span>\r\n                <span class=\"red\" @click=\"del2Fun(item.auser,item.aphone,item.address)\">删除</span>\r\n              </div>\r\n            </div>\r\n          </ul>\r\n        </div>\r\n        <div class=\"d2q\"></div>\r\n      </div>\r\n      <div class=\"bottom\" @click=\"addFun\">+ 添加新地址</div>\r\n    </div>\r\n    <div class=\"d02\" :class=\"d02_dp\">\r\n      <div class=\"d02_top\">\r\n        <div >\r\n          <span class=\"iconfont icon-xiazai6\" @click=\"fhFun\"></span>\r\n          <span class=\"cydz\">添加常用地址</span>\r\n          <span class=\"save\" @click=\"bcFun\">保存</span>\r\n        </div>   \r\n      </div>\r\n      <div class=\"d02_middle\">\r\n        <div>\r\n          <input type=\"text\" placeholder=\"联系人姓名\" v-model=\"lxrName\">\r\n        </div>\r\n        <div>\r\n          <input type=\"text\" placeholder=\"手机号码\" v-model=\"lxrPhone\" maxlength=11>\r\n        </div>\r\n        <div class=\"xzdq\">\r\n          <select name=\"sel_pro\" id=\"sel_pro\" @change=\"look_pro\" v-model=\"selectd_pro\">\r\n            <option :value=\"item_pro.sid\" v-for=\"(item_pro,i_pro) of list_pro\" :key=\"i_pro\">{{item_pro.provinceName}}</option>\r\n          </select>\r\n          <select name=\"sel_city\" id=\"sel_city\"  @change=\"look_city\" v-model=\"selectd_city\">\r\n            <option :value=\"item_city.cid\" v-for=\"(item_city,i_city) of list_city\" :key=\"i_city\">{{item_city.cityName}}</option>\r\n          </select>\r\n          <select name=\"sel_dis\" id=\"sel_dis\" @change=\"look_dis\" v-model=\"selectd_dis\">\r\n            <option :value=\"item_dis.did\" v-for=\"(item_dis,i_dis) of list_dis\" :key=\"i_dis\" ref=\"newText\">{{item_dis.districtName}}</option>\r\n          </select>\r\n        </div>\r\n        <div class=\"xxdz\">\r\n          <textarea name=\"\" id=\"\" cols=\"30\" rows=\"10\" placeholder=\"详细地址\" v-model=\"xxdz\"></textarea>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Myheader from \"../components/Myheader.vue\"\r\nexport default {\r\n  data() {\r\n    return {\r\n      uid:\"\",\r\n      mrPhone:\"\",\r\n      mrName:\"\",\r\n      mrAddress:\"\",\r\n      isDefault:\"\",\r\n      qian_dp1:\"\",\r\n      qian_dp2:\"\",\r\n      mrdz_dp:\"\",\r\n      qtdz_dp:\"\",\r\n      list:[],\r\n      list_pro:[],\r\n      selectd_pro:\"\",\r\n      list_city:[],\r\n      selectd_city:\"\",\r\n      list_dis:[],\r\n      selectd_dis:\"\",\r\n      d01_dp:\"\",\r\n      d02_dp:\"\",\r\n      lxrName:\"\",\r\n      lxrPhone:\"\",\r\n      xxdz:\"\",\r\n      arr_pro:[],\r\n      arr_city:[],\r\n      arr_dis:[],\r\n      textPro:\"\",\r\n      textCity:\"\",\r\n      textDis:\"\"\r\n    }\r\n  },\r\n  methods: {\r\n    setMrFun(auser,aphone,address){\r\n      var obj={\r\n        uid:this.uid,\r\n        auser:auser,\r\n        aphone:aphone,\r\n        address:address\r\n      }\r\n      this.axios.get(\"updateMr\",{params:obj}).then(res=>{\r\n        if(res.data.code==1){\r\n          this.onLoad();       \r\n        }else if(res.data.code==2){  \r\n          this.onLoad();\r\n        }else if(res.data.code==0){\r\n          this.onLoad();\r\n        }else{\r\n          this.$toast(\"设置失败\")\r\n        }  \r\n      })\r\n    },\r\n    del2Fun(auser,aphone,address){\r\n      this.$messagebox.confirm(\"确认删除该地址？\")\r\n      .then(action=>{\r\n        var obj={\r\n          uid:this.uid,\r\n          auser:auser,\r\n          aphone:aphone,\r\n          address:address\r\n        }\r\n        this.axios.get(\"del2\",{params:obj}).then(res=>{\r\n           if(res.data.code==1){\r\n            this.$toast(\"删除成功\");\r\n            this.onLoad();\r\n          }else if(res.data.code==0){\r\n            this.qian_dp2=\"xs\";       \r\n            this.$toast(\"删除成功\");\r\n            this.onLoad();\r\n          }else{\r\n            this.$toast(\"删除失败\");\r\n          }\r\n        });\r\n      })\r\n      .catch(err=>{\r\n        this.$toast(\"取消成功\")\r\n      })\r\n    },\r\n    del1Fun(){\r\n      this.$messagebox.confirm(\"确认删除该地址？\")\r\n      .then(action=>{\r\n        var obj={uid:this.uid}\r\n        this.axios.get(\"del1\",{params:obj}).then(res=>{\r\n          if(res.data.code==1){\r\n            this.$toast(\"删除成功\");\r\n            this.onLoad();\r\n          }else{\r\n            this.$toast(\"删除失败\");\r\n          } \r\n        }) \r\n      })\r\n      .catch(err=>{\r\n        this.$toast(\"取消成功\");\r\n      })\r\n    },\r\n    bcFun(){\r\n      var str=this.textPro+\",\"+this.textCity+\",\"+\",\"+this.textDis+this.xxdz;\r\n      var aphone_reg=/^1[3456789]\\d{9}$/;\r\n      if(this.lxrName==null){\r\n        this.$toast(\"请输入联系人姓名\");\r\n      }else if(aphone_reg.test(this.lxrPhone)==false){\r\n        this.$toast(\"请输入合法的手机号！\");\r\n      }else if(this.selectd_pro==1){\r\n        this.$toast(\"请选择你所在的省域！\");\r\n      }else if(this.selectd_city==1){\r\n        this.$toast(\"请选择你所在的城市！\");\r\n      }else if(this.selectd_dis==1){\r\n        this.$toast(\"请选择你所在的区域！\");\r\n      }else if(this.xxdz==null){\r\n        this.$toast(\"请输入详细地址！\");\r\n      }else{\r\n        var url=\"addAddress\";\r\n        var obj={\r\n          auser:this.lxrName,\r\n          aphone:this.lxrPhone,\r\n          address:str,\r\n          uid:this.uid,\r\n          isDefault:0\r\n        }\r\n        this.axios.post(url,this.qs.stringify(obj)).then(res=>{\r\n          if(res.data.code==1){\r\n            this.d01_dp=\"xs\";\r\n            this.d02_dp=\"yc\";\r\n            this.qian_dp2=\"yc\";\r\n            this.qtdz_dp=\"xs\";\r\n            this.selectd_pro=1;\r\n            this.selectd_city=1;\r\n            this.selectd_dis=1;\r\n            this.$toast(\"添加成功\");\r\n            this.onLoad();\r\n          }else{\r\n            this.$toast(\"添加失败\");\r\n          }\r\n        });\r\n      }\r\n    },\r\n    look_pro(){\r\n      if(this.selectd_pro!==1){\r\n        var url=\"textPro\";\r\n        var obj={sid:this.selectd_pro}\r\n        this.axios.get(url,{params:obj}).then(res=>{\r\n          this.textPro=res.data[0].provinceName;  \r\n        })\r\n      }\r\n    },\r\n    look_city(){\r\n      if(this.selectd_city!==1){\r\n        var url=\"textCity\";\r\n        var obj={cid:this.selectd_city}\r\n        this.axios.get(url,{params:obj}).then(res=>{\r\n          this.textCity=res.data[0].cityName;  \r\n        })\r\n      }\r\n    },\r\n    look_dis(){\r\n      if(this.selectd_dis!==1){\r\n        var url=\"textDis\";\r\n        var obj={did:this.selectd_dis}\r\n        this.axios.get(url,{params:obj}).then(res=>{\r\n          this.textDis=res.data[0].districtName;  \r\n        })\r\n      }\r\n    },\r\n    addFun(){\r\n      this.d01_dp=\"yc\";\r\n      this.d02_dp=\"xs\";\r\n      this.lxrPhone=null;\r\n      this.lxrName=null;\r\n      this.xxdz=null\r\n    },\r\n    fhFun(){\r\n      this.d01_dp=\"xs\";\r\n      this.d02_dp=\"yc\";\r\n    },\r\n    onLoad(){\r\n      //我的地址页面添加载\r\n      var url=\"address\";\r\n      var obj={uid:this.uid};\r\n      this.axios.get(url,{params:obj}).then(res=>{\r\n        if(res.data.code==2){\r\n          var mrdz=res.data.output.mrdz[0];\r\n          this.mrName=mrdz.auser;\r\n          this.mrPhone=mrdz.aphone;\r\n          this.mrAddress=mrdz.address;\r\n          this.qian_dp1=\"yc\";\r\n          this.mrdz_dp=\"xs\";\r\n          var qtdz=res.data.output.qtdz;\r\n          this.list=qtdz;\r\n        }else if(res.data.code==1){\r\n          var mrdz=res.data.output.mrdz[0];\r\n          this.mrName=mrdz.auser;\r\n          this.mrPhone=mrdz.aphone;\r\n          this.mrAddress=mrdz.address;\r\n          this.qian_dp1=\"yc\";\r\n          this.mrdz_dp=\"xs\";\r\n          this.qian_dp2=\"xs\";\r\n          this.qtdz_dp=\"yc\"; \r\n        }else if(res.data.code==0){\r\n          this.qian_dp1=\"xs\";\r\n          this.mrdz_dp=\"yc\";\r\n          var qtdz=res.data.output.qtdz;\r\n          this.list=qtdz;\r\n        }else{\r\n          this.qian_dp1=\"xs\";\r\n          this.mrdz_dp=\"yc\";\r\n          this.qian_dp2=\"xs\";\r\n          this.qtdz_dp=\"yc\";\r\n        }\r\n      });\r\n    }\r\n  },\r\n  watch:{\r\n    selectd_pro(){\r\n      var obj={sid:this.selectd_pro};\r\n      var url=\"proChange\";\r\n      this.axios.get(url,{params:obj}).then(res=>{\r\n        this.list_city=res.data;\r\n        this.selectd_city=1;\r\n      })\r\n    },\r\n    selectd_city(){\r\n      var obj={cid:this.selectd_city};\r\n      var url=\"cityChange\";\r\n      this.axios.get(url,{params:obj}).then(res=>{\r\n        this.list_dis=res.data;\r\n        this.selectd_dis=1;\r\n      })\r\n    },\r\n  },\r\n  created() {\r\n    if(sessionStorage.getItem(\"uid\")==\"null\"){ \r\n      this.$router.push(\"/Login\");\r\n    }else{\r\n      this.uid=sessionStorage.getItem(\"uid\");\r\n    }\r\n    this.onLoad();\r\n    //行政区域下拉选项框加载\r\n    this.axios.get(\"xzqy\").then(res=>{\r\n      var arr_pro=res.data.pro;\r\n      var arr_city=res.data.city;\r\n      var arr_dis=res.data.dis;\r\n      this.list_pro=arr_pro;\r\n      this.list_city=arr_city;\r\n      this.list_dis=arr_dis;\r\n      this.selectd_pro=1;\r\n    })\r\n  },\r\n  components:{\r\n    \"myheader\":Myheader\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#address .xs{\r\n  display: block !important;\r\n}\r\n#address .yc{\r\n  display: none !important;\r\n}\r\n#address ul,#address li{\r\n  width: 90%;\r\n  list-style-type: none;\r\n  margin: 0 auto;\r\n  padding: 0;\r\n}\r\n\r\n#address .d01{\r\n  height:auto;\r\n  overflow: hidden;\r\n  display: block;\r\n}\r\n#address .d02{\r\n  height: auto;\r\n  overflow: hidden;\r\n  display: none;\r\n}\r\n\r\n#address .d0{\r\n  background: #eee;\r\n  height: auto;\r\n  position: relative;\r\n}\r\n#address .d1m,#address .d1q{\r\n  margin:5px 0 15px;\r\n  background: #fff;\r\n}\r\n#address .d1m dt,#address .d1q dt{\r\n  width:100px;\r\n  position:absolute;\r\n}\r\n#address .d1m dd,#address .d1q dd{\r\n padding-left: 100px;\r\n margin: 5px 0;\r\n}\r\n#address .d2q{\r\n  width: 100%;\r\n  height: 1px;\r\n  background:#eee; \r\n}\r\n#address .shen{\r\n  width: 90%;height: 19px;\r\n  padding: 5px 0;\r\n  color:#444;\r\n  font-weight: bolder;\r\n  font-size:16px;\r\n  margin: 0 auto;\r\n  border-bottom:1px solid #eee;\r\n}\r\n#address dl>dd{\r\n  height: auto;\r\n}\r\n#address .qian{\r\n  width: 90%;height: 20px;\r\n  padding: 35px 0 10px;\r\n  color:#a8a8a8;\r\n  font-weight: bolder;\r\n  font-size:16px;\r\n  margin: 0 auto;\r\n  display: none;\r\n}\r\n#address .mrdz_xz,#address .qtdz_xz{\r\n  height: 40px;\r\n  line-height: 40px;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n#address .mrdz_xz>span{\r\n  margin-right: 60px;\r\n}\r\n\r\n#address .blue{\r\n  color:#938CF9\r\n  \r\n}\r\n#address .red{\r\n  color:red;\r\n  float:right;\r\n}\r\n#address .bottom{\r\n  width: 100%;\r\n  height: 50px;\r\n  text-align: center;\r\n  color:#a8a8a8;\r\n  font-size: 20px;\r\n  line-height: 50px;\r\n  box-shadow:0 -1px 2px #eee;\r\n}\r\n#address .d02_top{\r\n  width: 100%;\r\n  height: 42px;\r\n  display: block;\r\n  line-height: 42px;\r\n  box-shadow: 0 1px 2px #eee;\r\n  background: #fff;\r\n  font-size: 18px;\r\n}\r\n#address .d02_top>div{\r\n  width: 94%;\r\n  margin: 0 auto;\r\n}\r\n#address .save{\r\n  float:right;\r\n  color:#333;\r\n}\r\n#address .cydz{\r\n  position: absolute;\r\n  width: 120px;\r\n  left:35%;\r\n  color:#333;\r\n}\r\n#address .d02_middle{\r\n  width: 94%;\r\n  height: 273px;\r\n  margin: 10px auto;\r\n}\r\n#address .d02_middle>div{\r\n  width: 100%;\r\n  height: 37px;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n#address .d02_middle>div>input{\r\n  width: 94%;\r\n  border: none;\r\n  height: 33px;\r\n  padding: 0 10px;\r\n}\r\n#address .xzdq{\r\n  display: flex;\r\n  padding: 0 10px;\r\n}\r\n#address .xzdq>select{\r\n  width: 95px;\r\n  height: 36px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  appearance:none;\r\n  color:#666;\r\n}\r\n#address .xzdq>select>option{\r\n  padding:0 10px;\r\n}\r\n#address .xxdz{\r\n  border-bottom: none !important;\r\n}\r\n\r\n#address .xxdz>textarea{\r\n  width: 94%;\r\n  height: 145px;\r\n  padding: 10px;\r\n  border:none;\r\n}\r\n#address dt,#address dd{\r\n  height:18px;\r\n}\r\n</style>"],"sourceRoot":"src\\views"}]}