{"remainingRequest":"C:\\xampp\\htdocs\\LL\\web1904\\项目大赛\\food\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\LL\\web1904\\项目大赛\\food\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\LL\\web1904\\项目大赛\\food\\vue_app_00\\src\\views\\Car.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\xampp\\htdocs\\LL\\web1904\\项目大赛\\food\\vue_app_00\\src\\views\\Car.vue","mtime":1566898933278},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\项目大赛\\food\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\项目大赛\\food\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\项目大赛\\food\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Myheader from \"../components/Myheader.vue\";\nexport default {\n  data: function data() {\n    return {\n      total: \"￥13\",\n      caredit: true,\n      popupVisible: false,\n      isActive: false,\n      isKong: false,\n      show: true,\n      ischeck: true,\n      list: []\n    };\n  },\n  methods: {\n    edit: function edit() {\n      // this.popupVisible=!this.popupVisible\n      this.caredit = !this.caredit;\n      this.isActive = !this.isActive;\n      this.isKong = !this.isKong;\n      this.show = !this.show;\n    },\n    BuyBuyBuy: function BuyBuyBuy() {\n      this.$router.push({\n        path: 'Buy'\n      });\n    },\n    loadCart: function loadCart() {\n      var _this = this;\n\n      var url = \"cart\";\n      this.axios.get(url).then(function (res) {\n        if (res.data.code == -1) {\n          _this.$messagebox(\"消息\", \"请登录\").then(function (res) {\n            _this.$router.push(\"/Login\");\n\n            return;\n          });\n        } else {\n          var list = res.data.data;\n          _this.list = list;\n        }\n      });\n    },\n    numUp: function numUp() {\n      this.item.gcount++;\n    },\n    numDown: function numDown() {\n      var _this2 = this;\n\n      this.item.gcount--;\n\n      if (this.item.gcount < 1) {\n        var gid = item.gid;\n        this.$messagebox.confirm(\"是否删除指定商品\").then(function (res) {\n          var url = \"del\";\n          var obj = {\n            gid: gid\n          };\n\n          _this2.axios.get(url, {\n            params: obj\n          }).then(function (res) {\n            if (res.data.code > 0) {\n              _this2.$toast(\"删除成功\");\n\n              _this2.$router.push({\n                path: 'Home'\n              });\n            }\n          });\n        }).catch(function (err) {\n          _this2.item.gcount++;\n        });\n      }\n    },\n    DeleteAll: function DeleteAll() {\n      var _this3 = this;\n\n      this.$messagebox.confirm(\"是否删除指定商品\").then(function (res) {\n        var url = \"delAll\";\n        var obj = {};\n\n        _this3.axios.get(url, {\n          params: obj\n        }).then(function (res) {\n          if (res.data.code > 0) {\n            _this3.$toast(\"删除成功\");\n\n            _this3.$router.push({\n              path: 'Home'\n            });\n          }\n        });\n      }).catch(function (err) {\n        console.log(err);\n      });\n    } // ss(){\n    // this.check=!this.check;\n    // // if(ckeck==true){\n    // // show==false;\n    // // }\n    // }\n\n  },\n  created: function created() {\n    this.loadCart();\n  },\n  computed: {\n    TotalPprice: function TotalPprice() {\n      var total = 0;\n      this.list.map(function (item) {\n        total += item.pprice;\n      });\n      return total;\n    }\n  },\n  components: {\n    \"myheader\": Myheader\n  }\n};",{"version":3,"sources":["Car.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n  <myheader></myheader>\r\n  <div class=\"carshow\">\r\n      <!-- 购物车头部 -->\r\n      <div class=\"car-div\">\r\n        <div>购物车 <span @click=\"edit\" v-show=\"caredit\">编辑</span><span v-show=\"!caredit\" @click=\"edit\">完成</span></div>\r\n      </div>\r\n      <!-- 删除div -->\r\n      <div class=\"popup\" :class=\"{actice:isActive}\">\r\n      <div class=\"car-check\">\r\n      <div><span class=\"s-check\" :class=\"{scheck:ischeck}\"><img src=\"../../public/images/checked.png\" alt=\"\"></span>全选 </div>\r\n      <div class=\"car-btn\"><mt-button class=\"check-btn\" @click=\"DeleteAll\">删除商品</mt-button></div>\r\n    </div>\r\n  </div> \r\n    <!-- 空div上 -->\r\n    <div style=\"height:48px; transition:.6s ease-out;\" :class=\"{kong:isKong}\"></div>\r\n    <!-- 购物列表 -->\r\n    <div class=\"car-ol\" v-for=\"(item,i) of list\" :key=\"i\">\r\n    <div class=\"car-oll\">\r\n      <span class=\"s-check s-check1\" :class=\"{scheck:ischeck}\"><img src=\"../../public/images/checked.png\" alt=\"\"></span>\r\n      <span class=\"ol-img\"><img :src=\"'http://127.0.0.1:3000/'+item.ppic\"></span>\r\n      <div>\r\n          <div class=\"car-title\">{{item.pname}}</div>\r\n          <p class=\"car-price\">价格￥{{item.pprice}}</p>\r\n          </div>\r\n      </div>\r\n      <div class=\"car-btn\" style=\"height:80px;line-height:80px;\"><button @click=\"numDown\">-</button><span>{{item.gcount}}</span><button  @click=\"numUp\">+</button></div>\r\n    </div>\r\n    <!--  -->\r\n    <mt-tabbar fixed class=\"car-tabbar\" v-show=\"show\" >\r\n      <div><span class=\"s-check s-check1\" :class=\"{scheck:ischeck}\"><img src=\"../../public/images/checked.png\" alt=\"\"></span>全选</div>\r\n      <div><span class=\"tab-span\">合计:<span>{{TotalPprice}}</span></span><mt-button class=\"tab-btn\" @click=\"BuyBuyBuy\">结算</mt-button></div>\r\n    </mt-tabbar>\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Myheader from \"../components/Myheader.vue\"\r\nexport default {\r\n  data(){\r\n    return{\r\n      total:\"￥13\",\r\n      caredit:true,\r\n      popupVisible:false,\r\n      isActive:false,\r\n      isKong:false,\r\n      show:true,\r\n      ischeck:true,\r\n      list:[]\r\n    }\r\n  },\r\n  methods:{\r\n    edit(){\r\n    // this.popupVisible=!this.popupVisible\r\n    this.caredit=!this.caredit\r\n    this.isActive=!this.isActive\r\n    this.isKong=!this.isKong\r\n    this.show=!this.show\r\n    },\r\n    BuyBuyBuy(){\r\n        this.$router.push({\r\n                    path:'Buy'\r\n                })\r\n    },\r\n    loadCart(){\r\n              var url=\"cart\";\r\n              this.axios.get(url).then(res=>{\r\n                  if(res.data.code==-1){\r\n                      this.$messagebox(\"消息\",\"请登录\").then(res=>{\r\n                          this.$router.push(\"/Login\");\r\n                          return;\r\n                      })\r\n                  }else{\r\n                      var list=res.data.data;\r\n                      this.list=list;\r\n                  }\r\n              })\r\n            },\r\n            numUp(){\r\n                this.item.gcount++;\r\n            },\r\n            numDown(){\r\n                this.item.gcount--;\r\n                if(this.item.gcount<1){\r\n                    var gid=item.gid;\r\n                    this.$messagebox.confirm(\"是否删除指定商品\").then(res=>{\r\n                    var url=\"del\";\r\n                    var obj={gid:gid};\r\n                    this.axios.get(url,{params:obj}).then(res=>{\r\n                      if(res.data.code>0){\r\n                          this.$toast(\"删除成功\");\r\n                            this.$router.push({\r\n                            path:'Home'\r\n                    })\r\n                      }\r\n                  })\r\n                }).catch(err=>{\r\n                    this.item.gcount++;\r\n                })\r\n            }\r\n                },\r\n          DeleteAll(){\r\n                this.$messagebox.confirm(\"是否删除指定商品\").then(res=>{\r\n                var url=\"delAll\";\r\n                var obj={};\r\n                this.axios.get(url,{params:obj}).then(res=>{\r\n                   if(res.data.code>0){\r\n                       this.$toast(\"删除成功\");\r\n                        this.$router.push({\r\n                        path:'Home'\r\n                })\r\n                   }\r\n               })\r\n            }).catch(err=>{\r\n                 console.log(err)\r\n            })\r\n          }\r\n// ss(){\r\n// this.check=!this.check;\r\n// // if(ckeck==true){\r\n// // show==false;\r\n// // }\r\n// }\r\n},\r\ncreated() {\r\n        this.loadCart();\r\n    },\r\n  computed: {\r\n    TotalPprice(){\r\n        var total = 0;\r\n        this.list.map((item) => {total += item.pprice});\r\n        return total;\r\n    }\r\n  },\r\n  components:{\r\n    \"myheader\":Myheader\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.carshow .kong{\r\n  height:100px !important;\r\n   transition: .6s ease-out ;\r\n}\r\n.car-div{\r\ntext-align: center;\r\nline-height: 42px;\r\nbackground: #fff;\r\nheight: 42px;\r\nborder-bottom:1px solid rgba(221, 221, 221, 0.5);\r\nposition: fixed;\r\nwidth: 100%;\r\nz-index: 9999;\r\nheight: 50px;\r\ntop:0px;\r\n\r\n}\r\n.car-div>div>span{\r\nfloat: right;\r\npadding-right: 10px;\r\n}\r\n/* */\r\n.car-check{\r\npadding: 5px 0px;\r\nmargin-bottom: 10px;\r\n\r\ndisplay: flex;\r\njustify-content: space-between;\r\nalign-items: center;\r\ntext-align: left;\r\n\r\nwidth: 100%;\r\n}\r\n.s-check{\r\ndisplay: inline-block;\r\nborder-radius:50%;\r\nwidth: 20px;\r\nheight:20px; \r\nbackground: #9e9e9e;\r\nline-height: 13px;\r\nbox-sizing: border-box;\r\npadding: 4px 3px;\r\nmargin-right: 6px;\r\nvertical-align: middle;\r\nmargin-left: 10px;\r\n}\r\n.car-check .scheck{\r\n  background: #f00;\r\n}\r\n\r\n\r\n .s-check img{\r\nwidth:100%;\r\nheight:100%;\r\n}\r\n.car-check .car-btn .check-btn{\r\nbackground:#d20e10;\r\ncolor: #fff;\r\nmargin-right: 25px;\r\n}\r\n/* divbu */\r\n.car-tabbar{\r\ndisplay: flex;\r\njustify-content:space-between;\r\nalign-items:center;\r\nfont-size: 14px;\r\nwidth: 100%;\r\n}\r\n.car-tabbar>div .tab-span{\r\nmargin-right: 10px;\r\n}\r\n.tab-span>span{\r\ncolor: #ff7100;\r\n}\r\n.car-tabbar .tab-btn {\r\nbackground: #ff7100;\r\ncolor: #fff;\r\nwidth: 80px;\r\n\r\n}\r\n/* 购物列表 */\r\n.car-ol{\r\nbackground: #fff;\r\nheight: 100px;\r\ndisplay: flex;\r\njustify-content:space-between;\r\nalign-items: center;\r\nflex-flow:column wrap;\r\n}\r\n.popup{\r\n  position: fixed;\r\n  width: 100%;\r\n  margin-top:50px;\r\n  transition: .6s ease-out;\r\n  background-color: #fff;\r\n  top: -60px;\r\n  right: auto;\r\n  bottom: auto;\r\n  left: 50%;\r\n  transform: translate3d(-50%, 0, 0);\r\n}\r\n.carshow .actice{\r\n \r\n  position: fixed;\r\n  width: 100%;\r\n  margin-top:50px;\r\n  transition: .6s ease-out ;\r\n  background-color: #fff  ;\r\n  top: 0px ;\r\n  right: auto ;\r\n  bottom: auto ;\r\n  left: 50%  ;\r\n  transform: translate3d(-50%, 0, 0) ;\r\n}\r\n.car-ol .car-oll{\r\ndisplay: flex;\r\njustify-content:left;\r\npadding: 10px 90px 10px 0;\r\nheight: 60px;\r\n}\r\n.car-ol .car-oll .s-check1{\r\ndisplay: initial-block;\r\nmargin-top:25px;\r\n}\r\n.car-ol .car-oll .car-title{\r\n  font-size: 12px;\r\n  }\r\n.car-ol .car-oll .car-price{\r\n  \r\n  color: #ff7223;\r\n    font-size: 12px;\r\n    margin-top: 7px;\r\n    }\r\n\r\n.car-ol .ol-img{\r\n  display: inline-block;\r\n  width: 60px;\r\n  height: 60px;\r\n  margin: 0px 10px 10px 10px;\r\n  ;\r\n \r\n}\r\n.car-ol .ol-img img{\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n/* btn */\r\n.car-ol .car-btn{\r\n  margin-right: 10px;\r\n}\r\n.car-ol .car-btn>button{\r\n  height: 22px;\r\n  width: 30px;\r\n \r\n}\r\n</style>"],"sourceRoot":"src\\views"}]}