{"remainingRequest":"C:\\xampp\\htdocs\\LL\\web1904\\项目大赛\\food\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\LL\\web1904\\项目大赛\\food\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\LL\\web1904\\项目大赛\\food\\vue_app_00\\src\\views\\Foots.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\xampp\\htdocs\\LL\\web1904\\项目大赛\\food\\vue_app_00\\src\\views\\Foots.vue","mtime":1567065800776},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\项目大赛\\food\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\项目大赛\\food\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\项目大赛\\food\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// import Carshow from \"../views/Carshow.vue\"\nexport default {\n  data: function data() {\n    return {\n      popupVisible: false,\n      list: [],\n      pno: 0,\n      pname: \"\",\n      pic1: \"\",\n      popup: {},\n      gcount: 1,\n      gid: 1,\n      jian: true\n    };\n  },\n  watch: {\n    popupVisible: function popupVisible() {\n      // console.log(this.popupVisible)\n      if (this.popupVisible == false) {\n        this.gcount = 1; // console.log(123)\n      }\n    }\n  },\n  methods: {\n    tzDetails: function tzDetails() {\n      this.$router.push(\"/FootDetails\");\n    },\n    //加入购物车\n    addCart: function addCart(e) {\n      var _this = this;\n\n      var pid = e.target.dataset.pid;\n      var n = e.target.dataset.pname;\n      var p = e.target.dataset.pprice;\n      var m = e.target.dataset.ppic;\n      var c = this.gcount;\n      var gid = this.gid;\n      var url = \"addcart\";\n      var objs = {\n        pid: pid,\n        pname: n,\n        pprice: p,\n        ppic: m,\n        gcount: c,\n        gid: gid + 1\n      };\n      console.log(objs);\n      this.axios.get(url, {\n        params: objs\n      }).then(function (res) {\n        if (res.data.code == -1) {\n          _this.$toast(\"请登录\");\n\n          _this.$router.push(\"/Login\");\n\n          return;\n        } else {\n          _this.$toast(\"添加成功\"); //this.carshow_dp=\"yc\";\n\n        }\n      });\n    },\n    car: function car(e) {\n      var _this2 = this;\n\n      var pid = e.target.dataset.pid;\n      var obj = {\n        pid: pid\n      };\n      this.axios.get(\"lqc\", {\n        params: obj\n      }).then(function (res) {\n        _this2.popup = res.data.data[0];\n        console.log(_this2.popup);\n      });\n      this.popupVisible = !this.popupVisible;\n    },\n    fbtn: function fbtn() {\n      if (this.gcount > 1) {\n        this.gcount--;\n      } else {}\n    },\n    zbtn: function zbtn() {\n      var a = this.popup.pcount;\n\n      if (this.gcount < a) {\n        this.gcount++;\n      } else {\n        this.$toast(\" 没有跟多库存了！\");\n      }\n    },\n    hidden: function hidden() {\n      this.popupVisible = false;\n    },\n    foods: function foods() {// this.$router.push('/FootDetails');\n    },\n    // cart(e){\n    //   var pid=e.target.datset.pid;\n    //   var n=e.target.datset.pname;\n    //   var p=e.target.dataset.pprice;\n    //   var g=e.target.dataset.gcount;\n    //   var url=\"addcart\"\n    //   var obja={pid:pid,pname:n,pprice:p,gcount:g};\n    //   this.axios.get(url,{params:obja}).then(res=>{\n    //     if(res.data.code==-1){\n    //       this.$toast(\"请先登录在添加商品\")\n    //     }else{\n    //       this.$toast(\"添加成功\");\n    //     }\n    //   })\n    //   this.$router.push(\"/Car\")  \n    //   },\n    loadMore: function loadMore() {\n      var _this3 = this;\n\n      //功能：获取商品分页数据\n      //  1：发送请求\n      var url = \"product\"; //当前页码加1\n\n      this.pno++; // 创建参数对象\n\n      var obj = {\n        pno: this.pno\n      }; //发送ajax请求获取当前页内容\n\n      this.axios.get(url, {\n        params: obj\n      }).then(function (res) {\n        //  2：获取服务器返回结果\n        console.log(res.data.data); //  3：将返回结果保存？？\n        // this.list=res.data.data;\n        //拼接多页\n\n        var rows = _this3.list.concat(res.data.data); //    将结果赋值list\n\n\n        _this3.list = rows;\n        var shao = res.data.data;\n\n        if (shao == \"\") {\n          _this3.$toast(\"没有更多商品了!\");\n\n          return;\n        }\n      });\n    }\n  },\n  created: function created() {\n    this.loadMore(); // console.log(\"组件创建成功\");\n  }\n};",{"version":3,"sources":["Foots.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n<div>\r\n  <!-- 商品列表 -->\r\n  <div class=\"rootstyle\"  v-for=\"(item,i) of list \" :key=\"i\">\r\n      <div class=\"leftimgtxt\" >\r\n          <img :src=\" 'http://127.0.0.1:3000/'+item.ppic\" class=\"imgstyle\" @click=\"tzDetails\"/>\r\n            <div class=\"titlestyle\">\r\n              <span class=\"title\">{{item.pname}}</span>\r\n              <span class=\"price\">￥{{item.pprice.toFixed(2)}}</span>\r\n              <span class=\"sales\">销量：{{item.salesVal}}</span>\r\n            </div>\r\n          <span class=\"cart iconfont icon-jiarugouwuche\"  @click=\"car\" :data-pid=\"item.pid\"></span>\r\n      </div>  \r\n </div>\r\n <mt-button   size=\"large\"  @click=\"loadMore\" >加载更多</mt-button> \r\n<!-- 购物弹出框 -->\r\n<mt-popup v-model=\"popupVisible\" position=\"bottom\" >\r\n    <div class=\"carshow\">\r\n      <div class=\"carshow-div\">\r\n        <div class=\"car-divq\">\r\n          <div class=\"car-one\">\r\n            <div class=\"one-img\"><img :src=\" 'http://127.0.0.1:3000/'+popup.ppic\"></div> \r\n             <div class=\"one-p\">\r\n                <p >{{popup.pname}}</p>\r\n                <p class=\"one-price\">￥{{popup.pprice}}</p> \r\n              </div> \r\n            </div>\r\n             <span class=\"iconfont icon-shanchu icon-span\"  @click=\"hidden\" ></span>\r\n          </div>\r\n            <div class=\"car-divw\">\r\n              <div><p>数量:</p></div> \r\n              <div><span class=\"divw-span\">库存:{{popup.pcount}}</span><mt-button class=\"btn\" @click=\"fbtn\" v-show=\"jian\">-</mt-button><span>{{gcount}}</span><mt-button class=\"btn\" @click=\"zbtn\">+</mt-button></div>\r\n            </div>\r\n            <div class=\"car-dive\"><mt-button class=\"dive-btn\" :data-pid=\"popup.pid\" :data-pname=\"popup.pname\" :data-ppic=\"popup.ppic\" :data-pprice=\"popup.pprice\" @click=\"addCart\">加入购物车</mt-button></div>\r\n        </div>\r\n    </div>\r\n  </mt-popup> \r\n  \r\n    \r\n \r\n \r\n<!-- <div class=\"index-foots\"></div> -->\r\n</div>\r\n \r\n</template>\r\n\r\n<script>\r\n// import Carshow from \"../views/Carshow.vue\"\r\nexport default {\r\n  data(){\r\n    return{popupVisible:false,\r\n      list:[],\r\n      pno:0,\r\n      pname:\"\",\r\n      pic1:\"\",\r\n      popup:{},\r\n      gcount:1,\r\n      gid:1,\r\n      jian:true,\r\n      \r\n    }\r\n  },\r\n  watch:{\r\n  popupVisible(){\r\n    // console.log(this.popupVisible)\r\n    if(this.popupVisible==false){\r\n      this.gcount = 1\r\n      // console.log(123)\r\n    }\r\n  }\r\n},\r\n\r\nmethods: {\r\n  tzDetails(){\r\n   this.$router.push(\"/FootDetails\");\r\n  },\r\n\r\n//加入购物车\r\n   addCart(e){\r\n  var pid=e.target.dataset.pid;\r\n  var n=e.target.dataset.pname;\r\n  var p=e.target.dataset.pprice;\r\n  var m=e.target.dataset.ppic;\r\n  var c=this.gcount;\r\n  var gid=this.gid;\r\n  var url=\"addcart\"\r\nvar objs={pid:pid,pname:n,pprice:p,ppic:m,gcount:c,gid:(gid+1)};\r\nconsole.log(objs);\r\n  this.axios.get(url,{params:objs}).then(res=>{\r\n  if(res.data.code==-1){\r\n    this.$toast(\"请登录\");\r\n    this.$router.push(\"/Login\");\r\n        return;\r\n   }else{this.$toast(\"添加成功\");\r\n      //this.carshow_dp=\"yc\";\r\n   }\r\n  })\r\n},\r\n\r\ncar(e){\r\n    var pid = e.target.dataset.pid;\r\n     var obj={pid:pid}\r\n     this.axios.get(\"lqc\",{params:obj}).then(res=>{\r\n      this.popup = res.data.data[0];\r\n      console.log(this.popup)\r\n     })\r\n    this.popupVisible=!this.popupVisible\r\n    \r\n  },\r\n  fbtn(){  \r\n  if(this. gcount>1){\r\n    this. gcount--;\r\n   }else{\r\n   }\r\n  },\r\nzbtn(){\r\n  var a=this.popup.pcount;\r\n  if(this. gcount<a){\r\n    this. gcount++;\r\n  }else{\r\n     this.$toast(\" 没有跟多库存了！\");\r\n     \r\n  }\r\n},\r\n  hidden(){\r\n     this.popupVisible=false\r\n },\r\n  foods(){\r\n    // this.$router.push('/FootDetails');\r\n  },\r\n// cart(e){\r\n//   var pid=e.target.datset.pid;\r\n//   var n=e.target.datset.pname;\r\n//   var p=e.target.dataset.pprice;\r\n//   var g=e.target.dataset.gcount;\r\n//   var url=\"addcart\"\r\n//   var obja={pid:pid,pname:n,pprice:p,gcount:g};\r\n//   this.axios.get(url,{params:obja}).then(res=>{\r\n//     if(res.data.code==-1){\r\n//       this.$toast(\"请先登录在添加商品\")\r\n//     }else{\r\n//       this.$toast(\"添加成功\");\r\n//     }\r\n//   })\r\n//   this.$router.push(\"/Car\")  \r\n//   },\r\n\r\nloadMore(){\r\n         //功能：获取商品分页数据\r\n        //  1：发送请求\r\n        var url= \"product\";\r\n        //当前页码加1\r\n        this.pno++;\r\n        // 创建参数对象\r\n        var obj={pno:this.pno};\r\n        //发送ajax请求获取当前页内容\r\n        this.axios.get(url,{params:obj}).then(res=>{\r\n        //  2：获取服务器返回结果\r\n        console.log(res.data.data);\r\n        //  3：将返回结果保存？？\r\n        // this.list=res.data.data;\r\n        //拼接多页\r\n       var rows =this.list.concat(res.data.data);\r\n    //    将结果赋值list\r\n       this.list=rows;\r\n       var shao=res.data.data;\r\n        if(shao==\"\"){\r\n          this.$toast(\"没有更多商品了!\");\r\n            return;\r\n\r\n        }\r\n\r\n         })\r\n       }\r\n   }, \r\n    created() {\r\n        this.loadMore();\r\n        // console.log(\"组件创建成功\");\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.xs{\r\n  display: block;\r\n}\r\n.yc{\r\n  display: none;\r\n}\r\n.rootstyle{\r\n  display:flex;\r\n  justify-content:space-between;\r\n  align-items: cebter;\r\n  position:relative;\r\n  margin-bottom: 8px;\r\n  background-color: rgb(255, 255, 255);\r\n  \r\n}\r\n.rootstyle .leftimgtxt{\r\n  display :flex;\r\n  padding-left:10px;\r\n\r\n}\r\n/* 图片样式 */\r\n.leftimgtxt .imgstyle{\r\n  width:80px;\r\n  height: 80px;;\r\n}\r\n/* 标题 */\r\n.titlestyle{\r\n  display:flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  padding-left: 7px;\r\n  color: rgb(102, 102, 102);\r\n  font-size: 14px;\r\n}\r\n.titlestyle>.price{\r\n  color: #f60;\r\n}\r\n.titlestyle .sales{\r\n  font-size: 12px;\r\n  color:#a8a8a8;\r\n}\r\n.rootstyle .cart{\r\n  position:absolute;\r\n  bottom:2px;\r\n  right:12px;\r\n  font-size: 23px;\r\n\r\n}\r\n/* 空div */\r\n.index-foots{\r\n    height: 60px;\r\n}\r\n/* 购物弹出 */\r\n.mint-popup-bottom{\r\n    width: 100%;\r\n}\r\n.carshow{\r\n    \r\n    width: 100%;\r\n    background: #fff;\r\n}\r\n\r\n.carshow-div{\r\n\r\nwidth:90%;\r\nheight:184px;\r\nmargin: 0 auto;\r\n\r\n    \r\n\r\n}\r\n.carshow-div .car-divq{\r\n    height: 40%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n   \r\n    \r\n}\r\n.carshow-div .car-divq .car-one .one-img{\r\n    width: 85px;\r\n    height: 85px;\r\n    border-radius: 5px;\r\n    border: 1px solid #dedede;\r\n    float: left;\r\n    margin: -45px auto 0px; \r\n\r\n}\r\n.carshow-div .car-divq .car-one .one-p{\r\n    float: left;\r\n}\r\n.carshow-div .car-divq .car-one .one-p>p{\r\n    font-size:14px;\r\n    margin:5px;\r\n}\r\n.carshow-div .car-divq .car-one .one-p .one-price{\r\n    color:#ff6710;\r\n}\r\n.carshow-div .car-divq .car-one>div>img{\r\n    height:100% ;\r\n    width: 100%;\r\n}\r\n.carshow-div .icon-span{\r\n    font-size: 25px;\r\n  margin:5px 5px;\r\n}\r\n/*  */\r\n .carshow-div .car-divw{\r\n    height: 40%;\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    \r\n  \r\n    \r\n}  \r\n .carshow-div .car-divw>div>p{\r\n     margin: 14px;\r\n     padding-bottom: 4px;\r\n    font-weight: bold;\r\n    color: #373737;\r\n }\r\n .carshow-div .car-divw .divw-span{\r\n     display: inline-block;\r\n     margin: 10px 34px 0px 0px;\r\n }\r\n .carshow-div .car-divw .btn{\r\n     background-color: #dedede; \r\n     width: 30px;\r\n     height: 20px;\r\n     margin: 5px;\r\n }\r\n /*  */\r\n.carshow-div .car-dive{\r\n    height:20%;\r\n    background-color:#fff\r\n\r\n    \r\n }\r\n.carshow-div .car-dive .dive-btn{\r\n    background: #f5a623;\r\n    width: 100%;\r\n    color:#fff;\r\n}    \r\n</style>"],"sourceRoot":"src\\views"}]}