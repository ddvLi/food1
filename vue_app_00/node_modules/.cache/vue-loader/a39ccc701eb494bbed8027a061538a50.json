{"remainingRequest":"C:\\xampp\\htdocs\\LL\\web1904\\项目大赛\\food\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\LL\\web1904\\项目大赛\\food\\vue_app_00\\src\\views\\Staple.vue?vue&type=style&index=0&id=bb2f8fc6&scoped=true&lang=css","dependencies":[{"path":"C:\\xampp\\htdocs\\LL\\web1904\\项目大赛\\food\\vue_app_00\\src\\views\\Staple.vue","mtime":1566865822000},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\项目大赛\\food\\vue_app_00\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\项目大赛\\food\\vue_app_00\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1521907988000},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\项目大赛\\food\\vue_app_00\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\项目大赛\\food\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\xampp\\htdocs\\LL\\web1904\\项目大赛\\food\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.rootstyle{\r\n  display:flex;\r\n  justify-content:space-between;\r\n  align-items: cebter;\r\n  position:relative;\r\n  margin-bottom: 8px;\r\n  background-color: rgb(255, 255, 255);\r\n  \r\n}\r\n.rootstyle .leftimgtxt{\r\n  display :flex;\r\n  padding-left:10px;\r\n\r\n}\r\n/* 图片样式 */\r\n.leftimgtxt .imgstyle{\r\n  width:80px;\r\n  height: 80px;;\r\n}\r\n/* 标题 */\r\n.titlestyle{\r\n  display:flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  padding-left: 7px;\r\n  color: rgb(102, 102, 102);\r\n  font-size: 14px;\r\n}\r\n.titlestyle>.price{\r\n  color: #f60;\r\n}\r\n.titlestyle .sales{\r\n  font-size: 12px;\r\n  color:#a8a8a8;\r\n}\r\n.rootstyle .cart{\r\n  position:absolute;\r\n  bottom:2px;\r\n  right:12px;\r\n  font-size: 23px;\r\n\r\n}\r\n/* 空div */\r\n.index-foots{\r\n    height: 60px;\r\n}\r\n/* 购物弹出 */\r\n.mint-popup-bottom{\r\n    width: 100%;\r\n}\r\n.carshow{\r\n    \r\n    width: 100%;\r\n    background: #fff;\r\n}\r\n\r\n.carshow-div{\r\n\r\nwidth:90%;\r\nheight:184px;\r\nmargin: 0 auto;\r\n\r\n    \r\n\r\n}\r\n.carshow-div .car-divq{\r\n    height: 40%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n   \r\n    \r\n}\r\n.carshow-div .car-divq .car-one .one-img{\r\n    width: 85px;\r\n    height: 85px;\r\n    border-radius: 5px;\r\n    border: 1px solid #dedede;\r\n    float: left;\r\n    margin: -45px auto 0px; \r\n\r\n}\r\n.carshow-div .car-divq .car-one .one-p{\r\n    float: left;\r\n}\r\n.carshow-div .car-divq .car-one .one-p>p{\r\n    font-size:14px;\r\n    margin:5px;\r\n}\r\n.carshow-div .car-divq .car-one .one-p .one-price{\r\n    color:#ff6710;\r\n}\r\n.carshow-div .car-divq .car-one>div>img{\r\n    height:100% ;\r\n    width: 100%;\r\n}\r\n.carshow-div .icon-span{\r\n    font-size: 25px;\r\n  margin:5px 5px;\r\n}\r\n/*  */\r\n .carshow-div .car-divw{\r\n    height: 40%;\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    \r\n  \r\n    \r\n}  \r\n .carshow-div .car-divw>div>p{\r\n     margin: 14px;\r\n     padding-bottom: 4px;\r\n    font-weight: bold;\r\n    color: #373737;\r\n }\r\n .carshow-div .car-divw .divw-span{\r\n     display: inline-block;\r\n     margin: 10px 34px 0px 0px;\r\n }\r\n .carshow-div .car-divw .btn{\r\n     background-color: #dedede; \r\n     width: 30px;\r\n     height: 20px;\r\n     margin: 5px;\r\n }\r\n /*  */\r\n.carshow-div .car-dive{\r\n    height:20%;\r\n    background-color:#fff\r\n\r\n    \r\n }\r\n.carshow-div .car-dive .dive-btn{\r\n    background: #f5a623;\r\n    width: 100%;\r\n    color:#fff;\r\n}    \r\n",{"version":3,"sources":["Staple.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmLA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA","file":"Staple.vue","sourceRoot":"src\\views","sourcesContent":["<template>\r\n<div>\r\n    <!-- 头部导航栏 -->\r\n    <div style=\"height:1px\"></div>\r\n<myheader></myheader>\r\n\r\n    <!-- 商品列表 --> \r\n<div class=\"rootstyle\"  v-for=\"(item,i) of list \" :key=\"i\"  >\r\n      <div class=\"leftimgtxt\" >\r\n          <img :src=\" 'http://127.0.0.1:3000/'+item.ppic\" class=\"imgstyle\"/>\r\n            <div class=\"titlestyle\">\r\n              <span class=\"title\">{{item.pname}}</span>\r\n              <span class=\"price\">￥{{item.pprice.toFixed(2)}}</span>\r\n              <span class=\"sales\">销量：{{item.salesVal}}</span>\r\n            </div>\r\n          <span class=\"cart iconfont icon-jiarugouwuche\"  @click=\"car\" :data-pid=\"item.pid\" :data-ppic=\"item.ppic\"  :data-pname=\"item.pname\" :data-pcount=\"item.pcount\"  :data-pprice=\"item.pprice\" ></span>\r\n      </div>  \r\n \r\n</div>  \r\n<!-- 购物弹出框 -->\r\n<mt-popup v-model=\"popupVisible\" position=\"bottom\" >\r\n    <div class=\"carshow\">\r\n      <div class=\"carshow-div\">\r\n        <div class=\"car-divq\">\r\n          <div class=\"car-one\">\r\n            <div class=\"one-img\"><img :src=\" 'http://127.0.0.1:3000/'+ppic\"></div> \r\n             <div class=\"one-p\">\r\n                <p >{{pname}}</p>\r\n                <p class=\"one-price\">￥{{pprice}}</p> \r\n              </div> \r\n            </div>\r\n             <span class=\"iconfont icon-shanchu icon-span\"  @click=\"hidden\" ></span>\r\n          </div>\r\n            <div class=\"car-divw\">\r\n              <div><p>数量:</p></div> \r\n              <div><span class=\"divw-span\">库存:{{pcount}}</span><mt-button class=\"btn\" @click=\"fbtn\" v-show=\"jian\">-</mt-button><span>{{gcount}}</span><mt-button class=\"btn\" @click=\"zbtn\">+</mt-button></div>\r\n            </div>\r\n            <div class=\"car-dive\"><mt-button class=\"dive-btn\" >加入购物车</mt-button></div>\r\n        </div>\r\n    </div>\r\n  </mt-popup> \r\n  \r\n   \r\n\r\n<mt-button   size=\"large\"  @click=\"loadMore\" >加载更多</mt-button>  \r\n<!-- <div class=\"index-foots\"></div> -->\r\n</div>\r\n \r\n</template>\r\n\r\n<script>\r\nimport Myheader from \"../components/Myheader.vue\"\r\n// import Carshow from \"../views/Carshow.vue\"\r\nexport default {\r\n  data(){\r\n    return{\r\n      popupVisible:false,\r\n          list:[],\r\n          pno:0,\r\n          pname:\"\",\r\n          popup:{},\r\n          gcount:1,\r\n          fpid:\"\",\r\n          a:\"\",\r\n          ppic:{},\r\n          pname:{},\r\n          pprice:{},\r\n          pcount:{},\r\n          pid:0,\r\n         jian:true\r\n          }\r\n  },\r\n \r\n  watch: {\r\n    \"$route\"(){\r\n     this.fpid=this.$route.params.fpid;\r\n    // console.log(this.$route.params.fpid);\r\n    this.loadMore();\r\n    }\r\n  },\r\nmethods: {\r\n  \r\n\r\n\r\n  car(e){\r\n    this.ppic=e.target.dataset.ppic\r\n    this.pname=e.target.dataset.pname\r\n    this.pprice=e.target.dataset.pprice\r\n    this.pcount=e.target.dataset.pcount\r\n    this.pid=e.target.dataset.pid\r\n    //console.log(\"========\"+ this.ppic);\r\n   \r\n     \r\n    \r\n  //    var pid = e.target.dataset.pid;\r\n  //    var obj={pid:pid}\r\n    \r\n  //     this.axios.get(\"lqc\",{params:obj}).then(res=>{\r\n  //    this.popup = res.data.data[0];\r\n  //     console.log(this.popup)\r\n  //     })\r\n      this.popupVisible=!this.popupVisible\r\n    \r\n  },\r\n  fbtn(){\r\n   \r\n  if(this.gcount>1){\r\n    this.gcount--;\r\n    \r\n   }else{\r\n     this.jian=false;\r\n     }\r\n  },\r\nzbtn(){\r\n  this.jian=true\r\n  var ku= this.pcount;\r\n  if(this.gcount<ku){\r\n    this.gcount++;\r\n    }else{\r\n      this.$toast(\"没有更多库存了！\");\r\n    }\r\n   \r\n},\r\n  hidden(){\r\n     this.popupVisible=false\r\n },\r\n  \r\nloadMore(e){\r\n     var url= \"staple\";\r\n    var fpid=this.fpid;\r\n    // console.log(fpid)\r\n    var objs={fpid}\r\n    //发送ajax请求获取当前页内容\r\n    this.axios.get(url,{params:objs}).then(res=>{\r\n    //  2：获取服务器返回结果\r\n    //  console.log(res.data.data);\r\n    //  3：将返回结果保存？？\r\n    // this.list=res.data.data;\r\n    //拼接多页\r\n    var rows =this.list.concat(res.data.data);\r\n    // console.log(rows)\r\n    //    将结果赋值list\r\n    this.list=rows;\r\n    var shao=res.data.data;\r\n   if(shao==\"\"){\r\n      this.$toast(\"没有更多商品了!\");\r\n         return;\r\n        }\r\n})\r\n   }\r\n  }, \r\n    created() {\r\n        this.fpid=this.$route.params.fpid;\r\n        console.log(this.$route.params.fpid);\r\n        this.loadMore();\r\n        // console.log(\"组件创建成功\");\r\n    },\r\n    components:{\r\n     \"myheader\":Myheader\r\n\r\n},\r\nwatch:{\r\n  popupVisible(){\r\n    // console.log(this.popupVisible)\r\n    if(this.popupVisible==false){\r\n      this.gcount = 1\r\n      // console.log(123)\r\n    }\r\n  }\r\n}\r\n\r\n\r\n// 加人购物车\r\n\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.rootstyle{\r\n  display:flex;\r\n  justify-content:space-between;\r\n  align-items: cebter;\r\n  position:relative;\r\n  margin-bottom: 8px;\r\n  background-color: rgb(255, 255, 255);\r\n  \r\n}\r\n.rootstyle .leftimgtxt{\r\n  display :flex;\r\n  padding-left:10px;\r\n\r\n}\r\n/* 图片样式 */\r\n.leftimgtxt .imgstyle{\r\n  width:80px;\r\n  height: 80px;;\r\n}\r\n/* 标题 */\r\n.titlestyle{\r\n  display:flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  padding-left: 7px;\r\n  color: rgb(102, 102, 102);\r\n  font-size: 14px;\r\n}\r\n.titlestyle>.price{\r\n  color: #f60;\r\n}\r\n.titlestyle .sales{\r\n  font-size: 12px;\r\n  color:#a8a8a8;\r\n}\r\n.rootstyle .cart{\r\n  position:absolute;\r\n  bottom:2px;\r\n  right:12px;\r\n  font-size: 23px;\r\n\r\n}\r\n/* 空div */\r\n.index-foots{\r\n    height: 60px;\r\n}\r\n/* 购物弹出 */\r\n.mint-popup-bottom{\r\n    width: 100%;\r\n}\r\n.carshow{\r\n    \r\n    width: 100%;\r\n    background: #fff;\r\n}\r\n\r\n.carshow-div{\r\n\r\nwidth:90%;\r\nheight:184px;\r\nmargin: 0 auto;\r\n\r\n    \r\n\r\n}\r\n.carshow-div .car-divq{\r\n    height: 40%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n   \r\n    \r\n}\r\n.carshow-div .car-divq .car-one .one-img{\r\n    width: 85px;\r\n    height: 85px;\r\n    border-radius: 5px;\r\n    border: 1px solid #dedede;\r\n    float: left;\r\n    margin: -45px auto 0px; \r\n\r\n}\r\n.carshow-div .car-divq .car-one .one-p{\r\n    float: left;\r\n}\r\n.carshow-div .car-divq .car-one .one-p>p{\r\n    font-size:14px;\r\n    margin:5px;\r\n}\r\n.carshow-div .car-divq .car-one .one-p .one-price{\r\n    color:#ff6710;\r\n}\r\n.carshow-div .car-divq .car-one>div>img{\r\n    height:100% ;\r\n    width: 100%;\r\n}\r\n.carshow-div .icon-span{\r\n    font-size: 25px;\r\n  margin:5px 5px;\r\n}\r\n/*  */\r\n .carshow-div .car-divw{\r\n    height: 40%;\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    \r\n  \r\n    \r\n}  \r\n .carshow-div .car-divw>div>p{\r\n     margin: 14px;\r\n     padding-bottom: 4px;\r\n    font-weight: bold;\r\n    color: #373737;\r\n }\r\n .carshow-div .car-divw .divw-span{\r\n     display: inline-block;\r\n     margin: 10px 34px 0px 0px;\r\n }\r\n .carshow-div .car-divw .btn{\r\n     background-color: #dedede; \r\n     width: 30px;\r\n     height: 20px;\r\n     margin: 5px;\r\n }\r\n /*  */\r\n.carshow-div .car-dive{\r\n    height:20%;\r\n    background-color:#fff\r\n\r\n    \r\n }\r\n.carshow-div .car-dive .dive-btn{\r\n    background: #f5a623;\r\n    width: 100%;\r\n    color:#fff;\r\n}    \r\n</style>"]}]}